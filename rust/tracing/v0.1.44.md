# Security Audit: tracing v0.1.44

## Crate Information

| Field | Value |
|-------|-------|
| **Name** | tracing |
| **Version** | 0.1.44 |
| **Released** | 2025-12-18 |
| **License** | MIT |
| **Repository** | https://github.com/tokio-rs/tracing |
| **Homepage** | https://tokio.rs |
| **Downloads** | 452+ million |

## Description

Application-level tracing for Rust. Part of the Tokio ecosystem for async
Rust development.

## Authors

- Hayden Stainsby (hds)
- Eliza Weisman (hawkw)

## Categories

- Asynchronous
- Development Tools (Debugging)
- Development Tools (Profiling)
- No Standard Library

## Keywords

async, logging, metrics, tracing

## Security Advisories

### RUSTSEC-2023-0078: Potential stack use-after-free in `Instrumented::into_inner`

| Field | Value |
|-------|-------|
| **Advisory ID** | RUSTSEC-2023-0078 |
| **Severity** | INFO (Unsoundness) |
| **Type** | Memory corruption / Use-after-free |
| **Affected Versions** | >=0.1.38, <0.1.40 |
| **Patched Versions** | >=0.1.40 |
| **Unaffected Versions** | <=0.1.37 |
| **Reported** | 2023-10-19 |
| **Issued** | 2024-01-13 |

#### Description

The `Instrumented::into_inner` method contains undefined behavior stemming from
improper use of `std::mem::forget`. The implementation creates pointers to
struct fields, calls `mem::forget(self)`, then reads from those pointers using
`std::ptr::read`.

The Rust documentation explicitly states that `mem::forget` "does not guarantee
that pointers to this memory will remain valid." This creates a potential stack
use-after-free vulnerability if the LLVM compiler reuses the stack slot after
the forget call.

#### Resolution

Update to tracing v0.1.40 or later. The fix replaces `std::mem::forget` with
`std::mem::ManuallyDrop` to prevent stack slot reuse and maintain pointer
validity.

#### References

- [Fix PR #2765](https://github.com/tokio-rs/tracing/pull/2765)
- [GitHub Advisory GHSA-8f24-6m29-wm2r](https://github.com/advisories/GHSA-8f24-6m29-wm2r)
- [RustSec Advisory](https://rustsec.org/advisories/RUSTSEC-2023-0078.html)

## Audit Status

| Check | Status |
|-------|--------|
| **RustSec Advisories** | PASS (v0.1.44 not affected) |
| **Known Vulnerabilities** | None for this version |
| **Active Maintenance** | Yes |
| **Trusted Publisher** | Yes (Tokio project) |

## Version History (Recent)

| Version | Date | Notes |
|---------|------|-------|
| 0.1.44 | 2025-12-18 | Latest |
| 0.1.43 | 2025-11-28 | |
| 0.1.41 | 2024-11-27 | |
| 0.1.40 | 2023-10-19 | Security fix for RUSTSEC-2023-0078 |
| 0.1.37 | 2022-10-06 | Last unaffected by RUSTSEC-2023-0078 |

## Recommendation

**APPROVED** - Version 0.1.44 is safe to use. The only known security issue
(RUSTSEC-2023-0078) was fixed in v0.1.40. The crate is actively maintained as
part of the Tokio ecosystem and is widely used (452+ million downloads).

---

*Audit performed: 2026-02-01*
