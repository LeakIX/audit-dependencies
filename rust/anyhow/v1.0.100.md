# Security Audit: anyhow v1.0.100

**Audit Date:** 2026-02-01
**Crate:** [anyhow](https://crates.io/crates/anyhow)
**Version:** 1.0.100
**Repository:** https://github.com/dtolnay/anyhow
**Documentation:** https://docs.rs/anyhow

## Overview

Anyhow provides `anyhow::Error`, a trait object-based error type for idiomatic
error handling in Rust applications. It is designed for applications (not
libraries) where error types do not need to be part of the public API.

## Crate Metadata

| Field | Value |
|-------|-------|
| Author | David Tolnay (dtolnay@gmail.com) |
| License | MIT OR Apache-2.0 |
| Categories | rust-patterns, no-std |
| Keywords | error, error-handling |
| MSRV | 1.68 |
| Total Downloads | 526.9M+ |
| GitHub Stars | 6,407 |
| Open Issues | 36 |
| Last Updated | 2026-02-01 |

## Security Status

### RustSec Advisories

**No known vulnerabilities.** The anyhow crate has no entries in the RustSec
Advisory Database as of the audit date.

### cargo audit

```
No vulnerabilities found for anyhow
```

## Dependencies

### Runtime Dependencies

| Dependency | Version | Optional | Notes |
|------------|---------|----------|-------|
| backtrace | 0.3.51 | Yes | Only for Rust < 1.65; no effect on newer compilers |

The crate has **zero required runtime dependencies** when using default
features. The `backtrace` dependency is optional and only needed for compilers
older than Rust 1.65.

### Dev Dependencies

- futures (0.3) - Async testing
- rustversion (1.0.6) - Version detection
- syn (2.0) - Parsing for tests
- thiserror (2) - Testing interoperability
- trybuild (1.0.108) - Compile-fail tests

## Features

| Feature | Default | Description |
|---------|---------|-------------|
| `std` | Yes | Standard library support |
| `backtrace` | No | Legacy backtrace support for Rust < 1.65 |

The crate supports `no_std` environments (requires global allocator).

## Unsafe Code Analysis

The crate uses unsafe code for performance-critical pointer operations:

| File | Unsafe Count | Purpose |
|------|-------------|---------|
| error.rs | 75 | Core error type implementation |
| ptr.rs | 11 | Owned/borrowed pointer abstractions |
| lib.rs | 1 | Module-level attribute |
| context.rs | 1 | Context attachment |

**Rationale:** The unsafe code is used for:

1. **Pointer management** - Custom `Own<T>`, `Ref<T>`, `Mut<T>` types for
   efficient error storage without double indirection
2. **Type erasure** - Casting between trait objects and concrete types
3. **Memory layout** - Precise control over error representation

The author (David Tolnay) is a well-known Rust expert and maintainer of many
foundational crates (serde, syn, quote). The crate has extensive test coverage
including compile-fail tests via trybuild.

## Maintenance Status

- **Active:** Regular releases (latest: September 2025)
- **Well-maintained:** 102 versions released since 2019
- **Widely adopted:** Used by 456k+ projects
- **Single maintainer:** David Tolnay (dtolnay)

## Risk Assessment

| Risk Category | Level | Notes |
|---------------|-------|-------|
| Supply Chain | Low | Minimal dependencies, reputable author |
| Vulnerability History | None | No known CVEs or RustSec advisories |
| Maintenance | Low | Actively maintained, frequent updates |
| Code Quality | Low | Extensive testing, expert author |
| Unsafe Code | Medium | Significant unsafe usage, but well-audited |

## Recommendations

1. **Approved for use** - This crate is suitable for production applications
2. **Pin version** - Use exact version pinning in Cargo.lock
3. **Monitor updates** - Subscribe to releases for security patches
4. **Consider thiserror** - For libraries, prefer `thiserror` for typed errors

## Audit Checklist

- [x] No RustSec advisories
- [x] No known CVEs
- [x] Active maintenance
- [x] Reputable author
- [x] Minimal dependencies
- [x] Appropriate license (MIT/Apache-2.0)
- [x] cargo audit clean

## References

- [Crate Documentation](https://docs.rs/anyhow)
- [GitHub Repository](https://github.com/dtolnay/anyhow)
- [RustSec Advisory Database](https://rustsec.org/)
- [crates.io Page](https://crates.io/crates/anyhow)
